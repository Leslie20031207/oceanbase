# ----------------------------------------------------------------------
# Test of GEOMETRY ST_GEOMETRYN function.
# ----------------------------------------------------------------------
USE test;
SET @gc = 'GeometryCollection(Point(1 1),LineString(2 2,3 3))';
SET @gc2 = 'GEOMETRYCOLLECTION(MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0))),POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0)),MULTILINESTRING((25 0,0 15,15 30,0 5)),LINESTRING(15 25,15 10),MULTIPOINT(5 0,25 0),POINT(15 25))';
SET @mpt = 'MULTIPOINT(5 0,25 0,15 10,15 25)';
SET @mls = 'MULTILINESTRING((0 5,15 25,0 25),(25 0,0 15,15 30,0 5))';
SET @mpy = 'MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0)))';
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@gc),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@gc),2))
LINESTRING(2 2,3 3)
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@gc, 4326),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@gc, 4326),2))
LINESTRING(2 2,3 3)
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@gc2),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@gc2),2))
POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0))
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@gc2, 4326),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@gc2, 4326),2))
POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0))
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@mpt),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@mpt),2))
POINT(25 0)
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@mpt, 4326),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@mpt, 4326),2))
POINT(25 0)
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@mls),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@mls),2))
LINESTRING(25 0,0 15,15 30,0 5)
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@mls, 4326),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@mls, 4326),2))
LINESTRING(25 0,0 15,15 30,0 5)
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@mpy),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@mpy),2))
POLYGON((25 0,0 15,30 15,22 10,25 0))
SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@mpy, 4326),2));
ST_AsText(ST_GeometryN(ST_GeomFromText(@mpy, 4326),2))
POLYGON((25 0,0 15,30 15,22 10,25 0))
