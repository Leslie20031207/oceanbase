result_format: 4

drop table if exists t1;
create table t1(c1 blob);
insert into t1 values('OceanBase');

ALTER SYSTEM SET regexp_engine = 'Hyperscan';
SELECT REGEXP_INSTR();
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_INSTR'
SELECT REGEXP_INSTR('OceanBase');
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_INSTR'
SELECT REGEXP_INSTR('OceanBase', 'a');
+--------------------------------+
| REGEXP_INSTR('OceanBase', 'a') |
+--------------------------------+
|                              4 |
+--------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a', 1);
+-----------------------------------+
| REGEXP_INSTR('OceanBase', 'a', 1) |
+-----------------------------------+
|                                 4 |
+-----------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a', 8);
+-----------------------------------+
| REGEXP_INSTR('OceanBase', 'a', 8) |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1);
+--------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1) |
+--------------------------------------------+
|                                          1 |
+--------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 2);
+--------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 2) |
+--------------------------------------------+
|                                          5 |
+--------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 3);
+--------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 3) |
+--------------------------------------------+
|                                          9 |
+--------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 0);
+-----------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 0) |
+-----------------------------------------------+
|                                             1 |
+-----------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 1);
+-----------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 1) |
+-----------------------------------------------+
|                                             4 |
+-----------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 2);
ERROR HY000: Incorrect arguments to use position or occurrence or return_option in regexp_instr
SELECT REGEXP_INSTR('OceanBase', '[a-n]+');
+-------------------------------------+
| REGEXP_INSTR('OceanBase', '[a-n]+') |
+-------------------------------------+
|                                   2 |
+-------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'o');
+--------------------------------+
| REGEXP_INSTR('OceanBase', 'o') |
+--------------------------------+
|                              1 |
+--------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'c');
+----------------------------------------------+
| REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'c') |
+----------------------------------------------+
|                                            0 |
+----------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'i');
+----------------------------------------------+
| REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'i') |
+----------------------------------------------+
|                                            6 |
+----------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '^B');
+-----------------------------------+
| REGEXP_INSTR('Ocean\nBase', '^B') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '^B', 1, 1, 0, 'm');
+-------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase', '^B', 1, 1, 0, 'm') |
+-------------------------------------------------+
|                                               7 |
+-------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '.');
+----------------------------------+
| REGEXP_INSTR('Ocean\nBase', '.') |
+----------------------------------+
|                                1 |
+----------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '.', 1, 1, 0, 'n');
+------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase', '.', 1, 1, 0, 'n') |
+------------------------------------------------+
|                                              1 |
+------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '.', 1, 1, 0, 'n');
+----------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '.', 1, 1, 0, 'n') |
+----------------------------------------------------------+
|                                                        1 |
+----------------------------------------------------------+
SELECT REGEXP_INSTR('\n\r', '.', 1, 1, 0, 'n');
+-----------------------------------------+
| REGEXP_INSTR('\n\r', '.', 1, 1, 0, 'n') |
+-----------------------------------------+
|                                       1 |
+-----------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 1, 0, 'm');
+---------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 1, 0, 'm') |
+---------------------------------------------------------------+
|                                                             0 |
+---------------------------------------------------------------+
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ci');
+-----------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ci') |
+-----------------------------------------------------------------+
|                                                              11 |
+-----------------------------------------------------------------+
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ic');
+-----------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ic') |
+-----------------------------------------------------------------+
|                                                               0 |
+-----------------------------------------------------------------+
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'cn');
+------------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'cn') |
+------------------------------------------------------------------+
|                                                                0 |
+------------------------------------------------------------------+
SELECT LENGTH(REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'in'));
+--------------------------------------------------------------------------+
| LENGTH(REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'in')) |
+--------------------------------------------------------------------------+
|                                                                        2 |
+--------------------------------------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 0, 'i', 0);
ERROR HY000: Incorrect arguments to hyperscan does not support subexpr argument in regexp_instr
SELECT REGEXP_INSTR('OceanBase', '[a-zA-Z]{2}');
+------------------------------------------+
| REGEXP_INSTR('OceanBase', '[a-zA-Z]{2}') |
+------------------------------------------+
|                                        1 |
+------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', '');
ERROR 42000: Got error from regexp
SELECT REGEXP_INSTR(c1, 'a') from t1;
+-----------------------+
| REGEXP_INSTR(c1, 'a') |
+-----------------------+
|                     4 |
+-----------------------+

SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 1, 0, 'm');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 1, 0, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('OceanBase', '(ewh|m?uit|f|snmv.g.gx[yofl]|.[^g][hbd])((.h|((y|vypfw|dfg{4}|x+|o.|y{8,}))+|k{9}t|cgp...gsk+)){17,}');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', 'a?');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', 'a{0}');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', 'a++');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', '^?a');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', '(?=b)');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', 'c(?>.{1,})n');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', '(ase|xyz){1,2}+');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', '^..\x02.{10,522}([^\00])\1{16}');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', 'foo\\g''bar');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', '((c(p|p)h{2,}bh.|p|((((cq|j|c|(\\b)|.[^nbgn]|(\\B)[qfh]a)){10,12}|ih|a|mnde[pa].|.g)){5,8})){21,29}');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', 'a\\g');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('OceanBase', '^(O)\\g');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('abcabc', 'a.+?c');
+---------------------------------+
| REGEXP_INSTR('abcabc', 'a.+?c') |
+---------------------------------+
|                               1 |
+---------------------------------+
SELECT REGEXP_INSTR('aabbbbb', '^[ab]{1,3}(ab*|b)');
+----------------------------------------------+
| REGEXP_INSTR('aabbbbb', '^[ab]{1,3}(ab*|b)') |
+----------------------------------------------+
|                                            1 |
+----------------------------------------------+
SELECT REGEXP_INSTR('abcdef', '[^a]{2,3}');
+-------------------------------------+
| REGEXP_INSTR('abcdef', '[^a]{2,3}') |
+-------------------------------------+
|                                   2 |
+-------------------------------------+
SELECT REGEXP_INSTR('XBBB', 'a{,3}B');
+--------------------------------+
| REGEXP_INSTR('XBBB', 'a{,3}B') |
+--------------------------------+
|                              0 |
+--------------------------------+
SELECT REGEXP_INSTR('ab', 'a(?)b');
+-----------------------------+
| REGEXP_INSTR('ab', 'a(?)b') |
+-----------------------------+
|                           1 |
+-----------------------------+
SELECT REGEXP_INSTR('abd', '(|ab)*?d');
+---------------------------------+
| REGEXP_INSTR('abd', '(|ab)*?d') |
+---------------------------------+
|                               1 |
+---------------------------------+
SELECT REGEXP_INSTR('< >', '<(?x:[a b])>');
+-------------------------------------+
| REGEXP_INSTR('< >', '<(?x:[a b])>') |
+-------------------------------------+
|                                   1 |
+-------------------------------------+
SELECT REGEXP_INSTR('bon-bon', '(?<A>bon)-\g{A}');
+--------------------------------------------+
| REGEXP_INSTR('bon-bon', '(?<A>bon)-\g{A}') |
+--------------------------------------------+
|                                          0 |
+--------------------------------------------+
SELECT REGEXP_INSTR('p', '[abc[:x\]pq]');
+-----------------------------------+
| REGEXP_INSTR('p', '[abc[:x\]pq]') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_INSTR('abc', 'a\0yz');
+------------------------------+
| REGEXP_INSTR('abc', 'a\0yz') |
+------------------------------+
|                            1 |
+------------------------------+
SELECT REGEXP_INSTR('a:axyz', '(?\'abc\'\w+):\g{abc}{2}');
+----------------------------------------------------+
| REGEXP_INSTR('a:axyz', '(?\'abc\'\w+):\g{abc}{2}') |
+----------------------------------------------------+
|                                                  0 |
+----------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '^');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('Ocean\nBase', '^', 1, 1, 0, 'm');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '^', 1, 1, 0, 'm');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '^', 1, 1, 0, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^', 1, 1, 0, 'm');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^', 1, 1, 0, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '$', 1, 1, 0, 'm');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '$', 1, 1, 0, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$', 1, 1, 0, 'm');
ERROR HY000: Internal error
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$', 1, 1, 0, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '.');
+--------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '.') |
+--------------------------------------------+
|                                          1 |
+--------------------------------------------+
SELECT LENGTH(REGEXP_INSTR('\n\r', '.'));
+-----------------------------------+
| LENGTH(REGEXP_INSTR('\n\r', '.')) |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '.', 1, 1, 0, 'u');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT LENGTH(REGEXP_INSTR('\n\r', '.', 1, 1, 0, 'u'));
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 1, 0, 'im');
+------------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 1, 0, 'im') |
+------------------------------------------------------------------+
|                                                                0 |
+------------------------------------------------------------------+
SELECT REGEXP_INSTR('abc', 'a', 1, 1, 0, 'x');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('abcdefghi', 'abc(d(e(f)gh)i)', 1, 1, 0, 'i', 2);
ERROR HY000: Incorrect arguments to hyperscan does not support subexpr argument in regexp_instr

ALTER SYSTEM SET regexp_engine = 'ICU';
SELECT REGEXP_INSTR();
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_INSTR'
SELECT REGEXP_INSTR('OceanBase');
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_INSTR'
SELECT REGEXP_INSTR('OceanBase', 'a');
+--------------------------------+
| REGEXP_INSTR('OceanBase', 'a') |
+--------------------------------+
|                              4 |
+--------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a', 1);
+-----------------------------------+
| REGEXP_INSTR('OceanBase', 'a', 1) |
+-----------------------------------+
|                                 4 |
+-----------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a', 8);
+-----------------------------------+
| REGEXP_INSTR('OceanBase', 'a', 8) |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1);
+--------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1) |
+--------------------------------------------+
|                                          1 |
+--------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 2);
+--------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 2) |
+--------------------------------------------+
|                                          5 |
+--------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 3);
+--------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 3) |
+--------------------------------------------+
|                                          9 |
+--------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 0);
+-----------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 0) |
+-----------------------------------------------+
|                                             1 |
+-----------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 1);
+-----------------------------------------------+
| REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 1) |
+-----------------------------------------------+
|                                             4 |
+-----------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 2);
ERROR HY000: Incorrect arguments to use position or occurrence or return_option or subexpr in regexp_instr
SELECT REGEXP_INSTR('OceanBase', '[a-n]+');
+-------------------------------------+
| REGEXP_INSTR('OceanBase', '[a-n]+') |
+-------------------------------------+
|                                   2 |
+-------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'o');
+--------------------------------+
| REGEXP_INSTR('OceanBase', 'o') |
+--------------------------------+
|                              1 |
+--------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'c');
+----------------------------------------------+
| REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'c') |
+----------------------------------------------+
|                                            0 |
+----------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'i');
+----------------------------------------------+
| REGEXP_INSTR('OceanBase', 'b', 1, 1, 0, 'i') |
+----------------------------------------------+
|                                            6 |
+----------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '^B');
+-----------------------------------+
| REGEXP_INSTR('Ocean\nBase', '^B') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '^B', 1, 1, 0, 'm');
+-------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase', '^B', 1, 1, 0, 'm') |
+-------------------------------------------------+
|                                               7 |
+-------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '.');
+----------------------------------+
| REGEXP_INSTR('Ocean\nBase', '.') |
+----------------------------------+
|                                1 |
+----------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '.', 1, 1, 0, 'n');
+------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase', '.', 1, 1, 0, 'n') |
+------------------------------------------------+
|                                              1 |
+------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '.', 1, 1, 0, 'n');
+----------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '.', 1, 1, 0, 'n') |
+----------------------------------------------------------+
|                                                        1 |
+----------------------------------------------------------+
SELECT REGEXP_INSTR('\n\r', '.', 1, 1, 0, 'n');
+-----------------------------------------+
| REGEXP_INSTR('\n\r', '.', 1, 1, 0, 'n') |
+-----------------------------------------+
|                                       1 |
+-----------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 1, 0, 'm');
+---------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 1, 0, 'm') |
+---------------------------------------------------------------+
|                                                             0 |
+---------------------------------------------------------------+
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ci');
+-----------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ci') |
+-----------------------------------------------------------------+
|                                                              11 |
+-----------------------------------------------------------------+
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ic');
+-----------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 1, 0, 'ic') |
+-----------------------------------------------------------------+
|                                                               0 |
+-----------------------------------------------------------------+
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'cn');
+------------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'cn') |
+------------------------------------------------------------------+
|                                                                0 |
+------------------------------------------------------------------+
SELECT LENGTH(REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'in'));
+--------------------------------------------------------------------------+
| LENGTH(REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 1, 0, 'in')) |
+--------------------------------------------------------------------------+
|                                                                        2 |
+--------------------------------------------------------------------------+
SELECT REGEXP_INSTR('abc,def,ghi', '[^,]+', 1, 1, 0, 'i', 0);
ERROR HY000: Incorrect arguments to too many arguments in regexp_instr
SELECT REGEXP_INSTR('OceanBase', '[a-zA-Z]{2}');
+------------------------------------------+
| REGEXP_INSTR('OceanBase', '[a-zA-Z]{2}') |
+------------------------------------------+
|                                        1 |
+------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', '');
ERROR 42000: Got error from regexp
SELECT REGEXP_INSTR(c1, 'a') from t1;
+-----------------------+
| REGEXP_INSTR(c1, 'a') |
+-----------------------+
|                     4 |
+-----------------------+

SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 1, 0, 'm');
+---------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 1, 0, 'm') |
+---------------------------------------------------------------+
|                                                             0 |
+---------------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 1, 0, 'mu');
+----------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 1, 0, 'mu') |
+----------------------------------------------------------------+
|                                                              0 |
+----------------------------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', '(ewh|m?uit|f|snmv.g.gx[yofl]|.[^g][hbd])((.h|((y|vypfw|dfg{4}|x+|o.|y{8,}))+|k{9}t|cgp...gsk+)){17,}');
+-----------------------------------------------------------------------------------------------------------------------------------+
| REGEXP_INSTR('OceanBase', '(ewh|m?uit|f|snmv.g.gx[yofl]|.[^g][hbd])((.h|((y|vypfw|dfg{4}|x+|o.|y{8,}))+|k{9}t|cgp...gsk+)){17,}') |
+-----------------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                                 0 |
+-----------------------------------------------------------------------------------------------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a?');
+---------------------------------+
| REGEXP_INSTR('OceanBase', 'a?') |
+---------------------------------+
|                               1 |
+---------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a{0}');
+-----------------------------------+
| REGEXP_INSTR('OceanBase', 'a{0}') |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a++');
+----------------------------------+
| REGEXP_INSTR('OceanBase', 'a++') |
+----------------------------------+
|                                4 |
+----------------------------------+
SELECT REGEXP_INSTR('OceanBase', '^?a');
+----------------------------------+
| REGEXP_INSTR('OceanBase', '^?a') |
+----------------------------------+
|                                4 |
+----------------------------------+
SELECT REGEXP_INSTR('OceanBase', '(?=b)');
+------------------------------------+
| REGEXP_INSTR('OceanBase', '(?=b)') |
+------------------------------------+
|                                  6 |
+------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'c(?>.{1,})n');
+------------------------------------------+
| REGEXP_INSTR('OceanBase', 'c(?>.{1,})n') |
+------------------------------------------+
|                                        0 |
+------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', '(ase|xyz){1,2}+');
+----------------------------------------------+
| REGEXP_INSTR('OceanBase', '(ase|xyz){1,2}+') |
+----------------------------------------------+
|                                            7 |
+----------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', '^..\x02.{10,522}([^\00])\1{16}');
+-------------------------------------------------------------+
| REGEXP_INSTR('OceanBase', '^..\x02.{10,522}([^\00])\1{16}') |
+-------------------------------------------------------------+
|                                                           0 |
+-------------------------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'foo\\g''bar');
+------------------------------------------+
| REGEXP_INSTR('OceanBase', 'foo\\g''bar') |
+------------------------------------------+
|                                        0 |
+------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', '((c(p|p)h{2,}bh.|p|((((cq|j|c|(\\b)|.[^nbgn]|(\\B)[qfh]a)){10,12}|ih|a|mnde[pa].|.g)){5,8})){21,29}');
+----------------------------------------------------------------------------------------------------------------------------------+
| REGEXP_INSTR('OceanBase', '((c(p|p)h{2,}bh.|p|((((cq|j|c|(\\b)|.[^nbgn]|(\\B)[qfh]a)){10,12}|ih|a|mnde[pa].|.g)){5,8})){21,29}') |
+----------------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                                1 |
+----------------------------------------------------------------------------------------------------------------------------------+
SELECT REGEXP_INSTR('OceanBase', 'a\\g');
+-----------------------------------+
| REGEXP_INSTR('OceanBase', 'a\\g') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_INSTR('OceanBase', '^(O)\\g');
+--------------------------------------+
| REGEXP_INSTR('OceanBase', '^(O)\\g') |
+--------------------------------------+
|                                    0 |
+--------------------------------------+
SELECT REGEXP_INSTR('abcabc', 'a.+?c');
+---------------------------------+
| REGEXP_INSTR('abcabc', 'a.+?c') |
+---------------------------------+
|                               1 |
+---------------------------------+
SELECT REGEXP_INSTR('aabbbbb', '^[ab]{1,3}(ab*|b)');
+----------------------------------------------+
| REGEXP_INSTR('aabbbbb', '^[ab]{1,3}(ab*|b)') |
+----------------------------------------------+
|                                            1 |
+----------------------------------------------+
SELECT REGEXP_INSTR('abcdef', '[^a]{2,3}');
+-------------------------------------+
| REGEXP_INSTR('abcdef', '[^a]{2,3}') |
+-------------------------------------+
|                                   2 |
+-------------------------------------+
SELECT REGEXP_INSTR('XBBB', 'a{,3}B');
ERROR 42000: Got error 'U_REGEX_BAD_INTERVAL' from regexp
SELECT REGEXP_INSTR('ab', 'a(?)b');
ERROR 42000: Got error 'U_REGEX_RULE_SYNTAX, Syntax error in regular expression on line 1, character 4.' from regexp
SELECT REGEXP_INSTR('abd', '(|ab)*?d');
ERROR 42000: Got error 'U_REGEX_TIME_OUT' from regexp
SELECT REGEXP_INSTR('< >', '<(?x:[a b])>');
+-------------------------------------+
| REGEXP_INSTR('< >', '<(?x:[a b])>') |
+-------------------------------------+
|                                   0 |
+-------------------------------------+
SELECT REGEXP_INSTR('bon-bon', '(?<A>bon)-\g{A}');
ERROR 42000: Got error 'U_REGEX_BAD_INTERVAL' from regexp
SELECT REGEXP_INSTR('p', '[abc[:x\]pq]');
+-----------------------------------+
| REGEXP_INSTR('p', '[abc[:x\]pq]') |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_INSTR('abc', 'a\0yz');
+------------------------------+
| REGEXP_INSTR('abc', 'a\0yz') |
+------------------------------+
|                            0 |
+------------------------------+
SELECT REGEXP_INSTR('a:axyz', '(?\'abc\'\w+):\g{abc}{2}');
ERROR 42000: Got error 'U_REGEX_RULE_SYNTAX, Syntax error in regular expression on line 1, character 3.' from regexp
SELECT REGEXP_INSTR('Ocean\nBase', '^');
+----------------------------------+
| REGEXP_INSTR('Ocean\nBase', '^') |
+----------------------------------+
|                                1 |
+----------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase', '^', 1, 1, 0, 'm');
+------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase', '^', 1, 1, 0, 'm') |
+------------------------------------------------+
|                                              1 |
+------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '^', 1, 1, 0, 'm');
+----------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '^', 1, 1, 0, 'm') |
+----------------------------------------------------------+
|                                                        1 |
+----------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '^', 1, 1, 0, 'mu');
+-----------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '^', 1, 1, 0, 'mu') |
+-----------------------------------------------------------+
|                                                         1 |
+-----------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^', 1, 1, 0, 'm');
+--------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^', 1, 1, 0, 'm') |
+--------------------------------------------------------------+
|                                                            1 |
+--------------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^', 1, 1, 0, 'mu');
+---------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '^', 1, 1, 0, 'mu') |
+---------------------------------------------------------------+
|                                                             1 |
+---------------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '$', 1, 1, 0, 'm');
+----------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '$', 1, 1, 0, 'm') |
+----------------------------------------------------------+
|                                                        6 |
+----------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '$', 1, 1, 0, 'mu');
+-----------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '$', 1, 1, 0, 'mu') |
+-----------------------------------------------------------+
|                                                         6 |
+-----------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$', 1, 1, 0, 'm');
+--------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$', 1, 1, 0, 'm') |
+--------------------------------------------------------------+
|                                                            6 |
+--------------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$', 1, 1, 0, 'mu');
+---------------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAnt\r\nGroup', '$', 1, 1, 0, 'mu') |
+---------------------------------------------------------------+
|                                                             6 |
+---------------------------------------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '.');
+--------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '.') |
+--------------------------------------------+
|                                          1 |
+--------------------------------------------+
SELECT LENGTH(REGEXP_INSTR('\n\r', '.'));
+-----------------------------------+
| LENGTH(REGEXP_INSTR('\n\r', '.')) |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_INSTR('Ocean\nBase\rAntGroup', '.', 1, 1, 0, 'u');
+----------------------------------------------------------+
| REGEXP_INSTR('Ocean\nBase\rAntGroup', '.', 1, 1, 0, 'u') |
+----------------------------------------------------------+
|                                                        1 |
+----------------------------------------------------------+
SELECT LENGTH(REGEXP_INSTR('\n\r', '.', 1, 1, 0, 'u'));
+-------------------------------------------------+
| LENGTH(REGEXP_INSTR('\n\r', '.', 1, 1, 0, 'u')) |
+-------------------------------------------------+
|                                               1 |
+-------------------------------------------------+
SELECT REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 1, 0, 'im');
+------------------------------------------------------------------+
| REGEXP_INSTR('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 1, 0, 'im') |
+------------------------------------------------------------------+
|                                                               11 |
+------------------------------------------------------------------+
SELECT REGEXP_INSTR('abc', 'a', 1, 1, 0, 'x');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_INSTR('abcdefghi', 'abc(d(e(f)gh)i)', 1, 1, 0, 'i', 2);
ERROR HY000: Incorrect arguments to too many arguments in regexp_instr

