result_format: 4

drop table if exists t1;
create table t1(c1 blob);
insert into t1 values('OceanBase');

ALTER SYSTEM SET regexp_engine = 'Hyperscan';
SELECT REGEXP_COUNT();
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_COUNT'
SELECT REGEXP_COUNT('OceanBase');
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_COUNT'
SELECT REGEXP_COUNT('OceanBase', 'a');
+--------------------------------+
| REGEXP_COUNT('OceanBase', 'a') |
+--------------------------------+
|                              2 |
+--------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a', 1);
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a', 1) |
+-----------------------------------+
|                                 2 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a', 5);
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a', 5) |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a', 8);
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a', 8) |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', '[a-n]+');
+-------------------------------------+
| REGEXP_COUNT('OceanBase', '[a-n]+') |
+-------------------------------------+
|                                   2 |
+-------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'o');
+--------------------------------+
| REGEXP_COUNT('OceanBase', 'o') |
+--------------------------------+
|                              1 |
+--------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'b', 1, 'c');
+----------------------------------------+
| REGEXP_COUNT('OceanBase', 'b', 1, 'c') |
+----------------------------------------+
|                                      0 |
+----------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'b', 1, 'i');
+----------------------------------------+
| REGEXP_COUNT('OceanBase', 'b', 1, 'i') |
+----------------------------------------+
|                                      1 |
+----------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '^B');
+-----------------------------------+
| REGEXP_COUNT('Ocean\nBase', '^B') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '^B', 1, 'm');
+-------------------------------------------+
| REGEXP_COUNT('Ocean\nBase', '^B', 1, 'm') |
+-------------------------------------------+
|                                         1 |
+-------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '.');
+----------------------------------+
| REGEXP_COUNT('Ocean\nBase', '.') |
+----------------------------------+
|                                9 |
+----------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '.', 1, 'n');
+------------------------------------------+
| REGEXP_COUNT('Ocean\nBase', '.', 1, 'n') |
+------------------------------------------+
|                                       10 |
+------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '.', 1, 'n');
+----------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '.', 1, 'n') |
+----------------------------------------------------+
|                                                 19 |
+----------------------------------------------------+
SELECT REGEXP_COUNT('\n\r', '.', 1, 'n');
+-----------------------------------+
| REGEXP_COUNT('\n\r', '.', 1, 'n') |
+-----------------------------------+
|                                 2 |
+-----------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 'm');
+---------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 'm') |
+---------------------------------------------------------+
|                                                       0 |
+---------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ci');
+-----------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ci') |
+-----------------------------------------------------------+
|                                                         1 |
+-----------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ic');
+-----------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ic') |
+-----------------------------------------------------------+
|                                                         0 |
+-----------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'cn');
+------------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'cn') |
+------------------------------------------------------------+
|                                                          0 |
+------------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'in');
+------------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'in') |
+------------------------------------------------------------+
|                                                          1 |
+------------------------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '[a-zA-Z]{2}');
+------------------------------------------+
| REGEXP_COUNT('OceanBase', '[a-zA-Z]{2}') |
+------------------------------------------+
|                                        4 |
+------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '');
ERROR HY000: Internal error
SELECT REGEXP_COUNT(c1, 'a') from t1;
+-----------------------+
| REGEXP_COUNT(c1, 'a') |
+-----------------------+
|                     2 |
+-----------------------+

SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 'm');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_COUNT('OceanBase', '(ewh|m?uit|f|snmv.g.gx[yofl]|.[^g][hbd])((.h|((y|vypfw|dfg{4}|x+|o.|y{8,}))+|k{9}t|cgp...gsk+)){17,}');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', 'a?');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', 'a{0}');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', 'a++');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', '^?a');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', '(?=b)');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', 'c(?>.{1,})n');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', '(ase|xyz){1,2}+');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', '^..\x02.{10,522}([^\00])\1{16}');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', 'foo\\g''bar');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', '((c(p|p)h{2,}bh.|p|((((cq|j|c|(\\b)|.[^nbgn]|(\\B)[qfh]a)){10,12}|ih|a|mnde[pa].|.g)){5,8})){21,29}');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', 'a\\g');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('OceanBase', '^(O)\\g');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('abcabc', 'a.+?c');
+---------------------------------+
| REGEXP_COUNT('abcabc', 'a.+?c') |
+---------------------------------+
|                               1 |
+---------------------------------+
SELECT REGEXP_COUNT('aabbbbb', '^[ab]{1,3}(ab*|b)');
+----------------------------------------------+
| REGEXP_COUNT('aabbbbb', '^[ab]{1,3}(ab*|b)') |
+----------------------------------------------+
|                                            1 |
+----------------------------------------------+
SELECT REGEXP_COUNT('abcdef', '[^a]{2,3}');
+-------------------------------------+
| REGEXP_COUNT('abcdef', '[^a]{2,3}') |
+-------------------------------------+
|                                   1 |
+-------------------------------------+
SELECT REGEXP_COUNT('XBBB', 'a{,3}B');
+--------------------------------+
| REGEXP_COUNT('XBBB', 'a{,3}B') |
+--------------------------------+
|                              0 |
+--------------------------------+
SELECT REGEXP_COUNT('ab', 'a(?)b');
+-----------------------------+
| REGEXP_COUNT('ab', 'a(?)b') |
+-----------------------------+
|                           1 |
+-----------------------------+
SELECT REGEXP_COUNT('abd', '(|ab)*?d');
+---------------------------------+
| REGEXP_COUNT('abd', '(|ab)*?d') |
+---------------------------------+
|                               1 |
+---------------------------------+
SELECT REGEXP_COUNT('< >', '<(?x:[a b])>');
+-------------------------------------+
| REGEXP_COUNT('< >', '<(?x:[a b])>') |
+-------------------------------------+
|                                   1 |
+-------------------------------------+
SELECT REGEXP_COUNT('bon-bon', '(?<A>bon)-\g{A}');
+--------------------------------------------+
| REGEXP_COUNT('bon-bon', '(?<A>bon)-\g{A}') |
+--------------------------------------------+
|                                          0 |
+--------------------------------------------+
SELECT REGEXP_COUNT('p', '[abc[:x\]pq]');
+-----------------------------------+
| REGEXP_COUNT('p', '[abc[:x\]pq]') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_COUNT('abc', 'a\0yz');
+------------------------------+
| REGEXP_COUNT('abc', 'a\0yz') |
+------------------------------+
|                            1 |
+------------------------------+
SELECT REGEXP_COUNT('a:axyz', '(?\'abc\'\w+):\g{abc}{2}');
+----------------------------------------------------+
| REGEXP_COUNT('a:axyz', '(?\'abc\'\w+):\g{abc}{2}') |
+----------------------------------------------------+
|                                                  0 |
+----------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '^');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('Ocean\nBase', '^', 1, 'm');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '^', 1, 'm');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '^', 1, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^', 1, 'm');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^', 1, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '$', 1, 'm');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '$', 1, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$', 1, 'm');
ERROR HY000: Internal error
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$', 1, 'mu');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '.');
+--------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '.') |
+--------------------------------------------+
|                                         18 |
+--------------------------------------------+
SELECT REGEXP_COUNT('\n\r', '.');
+---------------------------+
| REGEXP_COUNT('\n\r', '.') |
+---------------------------+
|                         1 |
+---------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '.', 1, 'u');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_COUNT('\n\r', '.', 1, 'u');
ERROR HY000: Incorrect arguments to use match param in regexp expression
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 'im');
+------------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 'im') |
+------------------------------------------------------------+
|                                                          0 |
+------------------------------------------------------------+
SELECT REGEXP_COUNT('abc', 'a', 1, 'x');
ERROR HY000: Incorrect arguments to use match param in regexp expression

ALTER SYSTEM SET regexp_engine = 'ICU';
SELECT REGEXP_COUNT();
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_COUNT'
SELECT REGEXP_COUNT('OceanBase');
ERROR 42000: Incorrect parameter count in the call to native function 'REGEXP_COUNT'
SELECT REGEXP_COUNT('OceanBase', 'a');
+--------------------------------+
| REGEXP_COUNT('OceanBase', 'a') |
+--------------------------------+
|                              2 |
+--------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a', 1);
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a', 1) |
+-----------------------------------+
|                                 2 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a', 5);
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a', 5) |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a', 8);
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a', 8) |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', '[a-n]+');
+-------------------------------------+
| REGEXP_COUNT('OceanBase', '[a-n]+') |
+-------------------------------------+
|                                   2 |
+-------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'o');
+--------------------------------+
| REGEXP_COUNT('OceanBase', 'o') |
+--------------------------------+
|                              1 |
+--------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'b', 1, 'c');
+----------------------------------------+
| REGEXP_COUNT('OceanBase', 'b', 1, 'c') |
+----------------------------------------+
|                                      0 |
+----------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'b', 1, 'i');
+----------------------------------------+
| REGEXP_COUNT('OceanBase', 'b', 1, 'i') |
+----------------------------------------+
|                                      1 |
+----------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '^B');
+-----------------------------------+
| REGEXP_COUNT('Ocean\nBase', '^B') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '^B', 1, 'm');
+-------------------------------------------+
| REGEXP_COUNT('Ocean\nBase', '^B', 1, 'm') |
+-------------------------------------------+
|                                         1 |
+-------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '.');
+----------------------------------+
| REGEXP_COUNT('Ocean\nBase', '.') |
+----------------------------------+
|                                9 |
+----------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '.', 1, 'n');
+------------------------------------------+
| REGEXP_COUNT('Ocean\nBase', '.', 1, 'n') |
+------------------------------------------+
|                                       10 |
+------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '.', 1, 'n');
+----------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '.', 1, 'n') |
+----------------------------------------------------+
|                                                 19 |
+----------------------------------------------------+
SELECT REGEXP_COUNT('\n\r', '.', 1, 'n');
+-----------------------------------+
| REGEXP_COUNT('\n\r', '.', 1, 'n') |
+-----------------------------------+
|                                 2 |
+-----------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 'm');
+---------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^u', 1, 'm') |
+---------------------------------------------------------+
|                                                       0 |
+---------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ci');
+-----------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ci') |
+-----------------------------------------------------------+
|                                                         1 |
+-----------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ic');
+-----------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', 'e', 1, 'ic') |
+-----------------------------------------------------------+
|                                                         0 |
+-----------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'cn');
+------------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'cn') |
+------------------------------------------------------------+
|                                                          0 |
+------------------------------------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'in');
+------------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '.e', 1, 'in') |
+------------------------------------------------------------+
|                                                          1 |
+------------------------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '[a-zA-Z]{2}');
+------------------------------------------+
| REGEXP_COUNT('OceanBase', '[a-zA-Z]{2}') |
+------------------------------------------+
|                                        4 |
+------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '');
ERROR 42000: Got error 'U_ILLEGAL_ARGUMENT_ERROR' from regexp
SELECT REGEXP_COUNT(c1, 'a') from t1;
+-----------------------+
| REGEXP_COUNT(c1, 'a') |
+-----------------------+
|                     2 |
+-----------------------+

SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 'm');
+---------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 'm') |
+---------------------------------------------------------+
|                                                       0 |
+---------------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 'mu');
+----------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$u', 1, 'mu') |
+----------------------------------------------------------+
|                                                        0 |
+----------------------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '(ewh|m?uit|f|snmv.g.gx[yofl]|.[^g][hbd])((.h|((y|vypfw|dfg{4}|x+|o.|y{8,}))+|k{9}t|cgp...gsk+)){17,}');
+-----------------------------------------------------------------------------------------------------------------------------------+
| REGEXP_COUNT('OceanBase', '(ewh|m?uit|f|snmv.g.gx[yofl]|.[^g][hbd])((.h|((y|vypfw|dfg{4}|x+|o.|y{8,}))+|k{9}t|cgp...gsk+)){17,}') |
+-----------------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                                 0 |
+-----------------------------------------------------------------------------------------------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a?');
+---------------------------------+
| REGEXP_COUNT('OceanBase', 'a?') |
+---------------------------------+
|                              10 |
+---------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a{0}');
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a{0}') |
+-----------------------------------+
|                                10 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a++');
+----------------------------------+
| REGEXP_COUNT('OceanBase', 'a++') |
+----------------------------------+
|                                2 |
+----------------------------------+
SELECT REGEXP_COUNT('OceanBase', '^?a');
+----------------------------------+
| REGEXP_COUNT('OceanBase', '^?a') |
+----------------------------------+
|                                2 |
+----------------------------------+
SELECT REGEXP_COUNT('OceanBase', '(?=b)');
+------------------------------------+
| REGEXP_COUNT('OceanBase', '(?=b)') |
+------------------------------------+
|                                  1 |
+------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'c(?>.{1,})n');
+------------------------------------------+
| REGEXP_COUNT('OceanBase', 'c(?>.{1,})n') |
+------------------------------------------+
|                                        0 |
+------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '(ase|xyz){1,2}+');
+----------------------------------------------+
| REGEXP_COUNT('OceanBase', '(ase|xyz){1,2}+') |
+----------------------------------------------+
|                                            1 |
+----------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '^..\x02.{10,522}([^\00])\1{16}');
+-------------------------------------------------------------+
| REGEXP_COUNT('OceanBase', '^..\x02.{10,522}([^\00])\1{16}') |
+-------------------------------------------------------------+
|                                                           0 |
+-------------------------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'foo\\g''bar');
+------------------------------------------+
| REGEXP_COUNT('OceanBase', 'foo\\g''bar') |
+------------------------------------------+
|                                        0 |
+------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', '((c(p|p)h{2,}bh.|p|((((cq|j|c|(\\b)|.[^nbgn]|(\\B)[qfh]a)){10,12}|ih|a|mnde[pa].|.g)){5,8})){21,29}');
+----------------------------------------------------------------------------------------------------------------------------------+
| REGEXP_COUNT('OceanBase', '((c(p|p)h{2,}bh.|p|((((cq|j|c|(\\b)|.[^nbgn]|(\\B)[qfh]a)){10,12}|ih|a|mnde[pa].|.g)){5,8})){21,29}') |
+----------------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                                3 |
+----------------------------------------------------------------------------------------------------------------------------------+
SELECT REGEXP_COUNT('OceanBase', 'a\\g');
+-----------------------------------+
| REGEXP_COUNT('OceanBase', 'a\\g') |
+-----------------------------------+
|                                 0 |
+-----------------------------------+
SELECT REGEXP_COUNT('OceanBase', '^(O)\\g');
+--------------------------------------+
| REGEXP_COUNT('OceanBase', '^(O)\\g') |
+--------------------------------------+
|                                    0 |
+--------------------------------------+
SELECT REGEXP_COUNT('abcabc', 'a.+?c');
+---------------------------------+
| REGEXP_COUNT('abcabc', 'a.+?c') |
+---------------------------------+
|                               2 |
+---------------------------------+
SELECT REGEXP_COUNT('aabbbbb', '^[ab]{1,3}(ab*|b)');
+----------------------------------------------+
| REGEXP_COUNT('aabbbbb', '^[ab]{1,3}(ab*|b)') |
+----------------------------------------------+
|                                            1 |
+----------------------------------------------+
SELECT REGEXP_COUNT('abcdef', '[^a]{2,3}');
+-------------------------------------+
| REGEXP_COUNT('abcdef', '[^a]{2,3}') |
+-------------------------------------+
|                                   2 |
+-------------------------------------+
SELECT REGEXP_COUNT('XBBB', 'a{,3}B');
ERROR 42000: Got error 'U_REGEX_BAD_INTERVAL' from regexp
SELECT REGEXP_COUNT('ab', 'a(?)b');
ERROR 42000: Got error 'U_REGEX_RULE_SYNTAX, Syntax error in regular expression on line 1, character 4.' from regexp
SELECT REGEXP_COUNT('abd', '(|ab)*?d');
ERROR 42000: Got error 'U_REGEX_TIME_OUT' from regexp
SELECT REGEXP_COUNT('< >', '<(?x:[a b])>');
+-------------------------------------+
| REGEXP_COUNT('< >', '<(?x:[a b])>') |
+-------------------------------------+
|                                   0 |
+-------------------------------------+
SELECT REGEXP_COUNT('bon-bon', '(?<A>bon)-\g{A}');
ERROR 42000: Got error 'U_REGEX_BAD_INTERVAL' from regexp
SELECT REGEXP_COUNT('p', '[abc[:x\]pq]');
+-----------------------------------+
| REGEXP_COUNT('p', '[abc[:x\]pq]') |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_COUNT('abc', 'a\0yz');
+------------------------------+
| REGEXP_COUNT('abc', 'a\0yz') |
+------------------------------+
|                            0 |
+------------------------------+
SELECT REGEXP_COUNT('a:axyz', '(?\'abc\'\w+):\g{abc}{2}');
ERROR 42000: Got error 'U_REGEX_RULE_SYNTAX, Syntax error in regular expression on line 1, character 3.' from regexp
SELECT REGEXP_COUNT('Ocean\nBase', '^');
+----------------------------------+
| REGEXP_COUNT('Ocean\nBase', '^') |
+----------------------------------+
|                                1 |
+----------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase', '^', 1, 'm');
+------------------------------------------+
| REGEXP_COUNT('Ocean\nBase', '^', 1, 'm') |
+------------------------------------------+
|                                        2 |
+------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '^', 1, 'm');
+----------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '^', 1, 'm') |
+----------------------------------------------------+
|                                                  3 |
+----------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '^', 1, 'mu');
+-----------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '^', 1, 'mu') |
+-----------------------------------------------------+
|                                                   2 |
+-----------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^', 1, 'm');
+--------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^', 1, 'm') |
+--------------------------------------------------------+
|                                                      4 |
+--------------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^', 1, 'mu');
+---------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '^', 1, 'mu') |
+---------------------------------------------------------+
|                                                       3 |
+---------------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '$', 1, 'm');
+----------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '$', 1, 'm') |
+----------------------------------------------------+
|                                                  3 |
+----------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '$', 1, 'mu');
+-----------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '$', 1, 'mu') |
+-----------------------------------------------------+
|                                                   2 |
+-----------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$', 1, 'm');
+--------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$', 1, 'm') |
+--------------------------------------------------------+
|                                                      4 |
+--------------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$', 1, 'mu');
+---------------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAnt\r\nGroup', '$', 1, 'mu') |
+---------------------------------------------------------+
|                                                       3 |
+---------------------------------------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '.');
+--------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '.') |
+--------------------------------------------+
|                                         17 |
+--------------------------------------------+
SELECT REGEXP_COUNT('\n\r', '.');
+---------------------------+
| REGEXP_COUNT('\n\r', '.') |
+---------------------------+
|                         0 |
+---------------------------+
SELECT REGEXP_COUNT('Ocean\nBase\rAntGroup', '.', 1, 'u');
+----------------------------------------------------+
| REGEXP_COUNT('Ocean\nBase\rAntGroup', '.', 1, 'u') |
+----------------------------------------------------+
|                                                 18 |
+----------------------------------------------------+
SELECT REGEXP_COUNT('\n\r', '.', 1, 'u');
+-----------------------------------+
| REGEXP_COUNT('\n\r', '.', 1, 'u') |
+-----------------------------------+
|                                 1 |
+-----------------------------------+
SELECT REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 'im');
+------------------------------------------------------------+
| REGEXP_COUNT('A\nB\rC\r\nD\n\rE\036F\025G', '^e', 1, 'im') |
+------------------------------------------------------------+
|                                                          1 |
+------------------------------------------------------------+
SELECT REGEXP_COUNT('abc', 'a', 1, 'x');
ERROR HY000: Incorrect arguments to use match param in regexp expression

